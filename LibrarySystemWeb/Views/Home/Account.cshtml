@model UserUpdate
@{
    bool isAuthenticated = User.Identity != null && User.Identity.IsAuthenticated;
    var firstName = User.FindFirst("FirstName")?.Value;
    ViewData["Title"] = $"{firstName}'s Account";
}
<h1 style="text-align: center;">@ViewData["Title"]</h1>
<h4 style="text-align: center;">Make changes to your account.</h4>
<hr />

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success text-center">
        @TempData["SuccessMessage"]
    </div>
}

<div class="d-flex justify-content-center">
    <form asp-action="UpdateAccount" style="max-width: 300px; width: 100%;" method="post" asp-controller="Home">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <div class="form-group">
            <label asp-for="FirstName" class="control-label">First Name</label>
            <input asp-for="FirstName" class="form-control" />
            <span asp-validation-for="FirstName" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="LastName" class="control-label">Last Name</label>
            <input asp-for="LastName" class="form-control" />
            <span asp-validation-for="LastName" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Email" class="control-label"></label>
            <input asp-for="Email" class="form-control" />
            <span asp-validation-for="Email" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Phone" class="control-label"></label>
            <input asp-for="Phone" class="form-control" />
            <span asp-validation-for="Phone" class="text-danger"></span>
        </div>
        <p style="margin-top: 30px;">Confirm password to save changes.</p>
        <div class="form-group">
            <label asp-for="Password" class="control-label">Password</label>
            <input asp-for="Password" class="form-control" type="password" placeholder="Enter current or new password" />
            <span asp-validation-for="Password" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="RetypePassword" class="control-label">Retype Password</label>
            <input asp-for="RetypePassword" class="form-control" type="password" placeholder="Confirm Password to save changes" />
            <span asp-validation-for="RetypePassword" class="text-danger"></span>
        </div>
        <div class="form-group mt-3 d-flex justify-content-center">
            <input type="submit" value="Update" class="btn btn-primary" style="width: 100%" />
        </div>
    </form>
</div>

@* @section Scripts { *@
@*     @{ *@
@*         await Html.RenderPartialAsync("_ValidationScriptsPartial"); *@
@*     } *@
@* } *@